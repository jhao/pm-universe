<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <title>数据采集与通道 - Honeywell PHD</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app-shell">
      <aside class="side-nav">
        <div class="nav-logo">
          <h1>Honeywell PHD</h1>
          <p>过程历史数据库与分析平台</p>
        </div>
        <div class="nav-section">
          <h2>主导航</h2>
          <ul class="nav-links">
            <li><a class="nav-link" href="index.html"><span class="nav-icon">🏠</span>概览首页</a></li>
            <li><a class="nav-link" href="operations-dashboard.html"><span class="nav-icon">📊</span>运行驾驶舱</a></li>
            <li><a class="nav-link is-active" href="data-collection.html"><span class="nav-icon">🛠️</span>数据采集</a></li>
            <li><a class="nav-link" href="trend-analysis.html"><span class="nav-icon">📈</span>趋势分析</a></li>
            <li><a class="nav-link" href="alarm-management.html"><span class="nav-icon">🚨</span>报警管理</a></li>
            <li><a class="nav-link" href="report-center.html"><span class="nav-icon">🗂️</span>报表中心</a></li>
            <li><a class="nav-link" href="model-lab.html"><span class="nav-icon">🧪</span>模型实验室</a></li>
          </ul>
        </div>
        <div class="nav-footer">
          <strong>采集工具</strong>
          <div>• <a href="data-pipeline-detail.html">通道配置详情</a></div>
          <div>• <a href="operations-dashboard.html">返回驾驶舱</a></div>
        </div>
      </aside>
      <div class="content-area">
        <header class="top-bar">
          <div class="top-bar-title">
            <h2>数据采集与通道</h2>
            <span class="breadcrumb">Honeywell PHD / 数据采集</span>
          </div>
          <div class="role-switcher">
            <label for="roleSwitcher">角色视角：</label>
            <select id="roleSwitcher" data-role-switcher>
              <option value="工艺工程师">工艺工程师</option>
              <option value="运维主管">运维主管</option>
              <option value="管理层">管理层</option>
            </select>
            <span class="role-badge">当前：<span data-role-label>工艺工程师</span></span>
          </div>
        </header>
        <main class="main-content">
          <section class="section-card">
            <h3>接口健康总览</h3>
            <div class="kpi-grid">
              <div class="kpi-card" data-role="运维主管">
                <h4>实时通道</h4>
                <div class="kpi-value">128</div>
                <span class="trend-positive">↑ 新增 4 条 OPC UA 通道</span>
              </div>
              <div class="kpi-card" data-role="运维主管,管理层">
                <h4>数据完整率</h4>
                <div class="kpi-value">99.4%</div>
                <span class="trend-positive">连续 14 天 ≥ 99%</span>
              </div>
              <div class="kpi-card" data-role="工艺工程师,运维主管">
                <h4>滞后点位</h4>
                <div class="kpi-value">12</div>
                <span class="trend-negative">需排查采样频率</span>
              </div>
              <div class="kpi-card" data-role="工艺工程师">
                <h4>新建标签</h4>
                <div class="kpi-value">36</div>
                <span class="trend-neutral">待映射至趋势模板</span>
              </div>
            </div>
          </section>

          <section class="section-card">
            <h3>采集通道列表</h3>
            <table class="table">
              <thead>
                <tr>
                  <th>通道名称</th>
                  <th>协议</th>
                  <th>吞吐</th>
                  <th>延迟</th>
                  <th>状态</th>
                  <th>操作</th>
                </tr>
              </thead>
              <tbody>
                <tr data-role="all">
                  <td>OPC-UA-12</td>
                  <td>OPC UA</td>
                  <td>15.8 k tag/s</td>
                  <td>0.8 s</td>
                  <td><span class="badge success"><span class="status-dot"></span> 正常</span></td>
                  <td><a href="data-pipeline-detail.html#opc-ua-12">查看详情</a></td>
                </tr>
                <tr data-role="运维主管,工艺工程师">
                  <td>MQTT-01</td>
                  <td>MQTT</td>
                  <td>8.1 k msg/s</td>
                  <td>1.6 s</td>
                  <td><span class="badge warning"><span class="status-dot"></span> 波动</span></td>
                  <td><a href="data-pipeline-detail.html#mqtt-01">排查波动</a></td>
                </tr>
                <tr data-role="运维主管">
                  <td>Modbus-07</td>
                  <td>Modbus</td>
                  <td>4.2 k tag/s</td>
                  <td>0.5 s</td>
                  <td><span class="badge success"><span class="status-dot"></span> 正常</span></td>
                  <td><a href="data-pipeline-detail.html#modbus-07">调整采样</a></td>
                </tr>
                <tr data-role="工艺工程师,管理层">
                  <td>Laboratory-LIMS</td>
                  <td>REST API</td>
                  <td>每日批量</td>
                  <td>--</td>
                  <td><span class="badge success"><span class="status-dot"></span> 同步完成</span></td>
                  <td><a href="report-center.html#lims">查看化验报表</a></td>
                </tr>
              </tbody>
            </table>
          </section>

          <section class="section-card">
            <h3>通道与标签管理</h3>
            <div class="split-layout">
              <div>
                <h4>快速操作</h4>
                <div class="action-buttons">
                  <a class="button" href="data-pipeline-detail.html">新建采集通道</a>
                  <a class="button secondary" href="trend-analysis.html#tag">映射至趋势模板</a>
                </div>
                <p class="note-box">提示：新建通道后，请在 <a href="report-schedule.html">报表调度</a> 中校验数据是否纳入日报。</p>
              </div>
              <div>
                <h4>标签质量跟踪</h4>
                <ul class="checklist">
                  <li><span class="check-icon">✓</span>12 个点位存在尖峰值，已自动剔除并通知 <a href="alarm-management.html#quality">数据质量报警</a>。</li>
                  <li><span class="check-icon">✓</span>本周新增 3 个 ESG 相关指标，待模型团队在 <a href="model-lab.html">模型实验室</a> 中训练。</li>
                </ul>
              </div>
            </div>
          </section>

          <section class="page-explainer">
            <strong>页面说明：</strong>
            数据采集页展示各类接口的运行状态与吞吐情况，支持快速跳转至通道详情进行排查或新增配置。角色切换可查看各角色关注的通道与操作建议。
          </section>
        </main>
      </div>
    </div>
    <script src="app.js" defer></script>
    <script type="module" src="../../menu.js"></script>
  </body>
</html>
